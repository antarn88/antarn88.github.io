(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{345:function(e,t,r){var n;n=()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>v});class r{constructor(e,t){this.startedAt=Date.now(),this.callback=e,this.delay=t,this.timer=setTimeout(e,t)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const n=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"}),o={all:l=l||new Map,on:function(e,t){var i=l.get(e);i?i.push(t):l.set(e,[t])},off:function(e,t){var i=l.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):l.set(e,[]))},emit:function(e,t){var i=l.get(e);i&&i.slice().map((function(e){e(t)})),(i=l.get("*"))&&i.slice().map((function(r){r(e,t)}))}};var l;const c={name:"toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:n.BOTTOM_RIGHT,validator:e=>Object.values(n).includes(e)},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data:()=>({isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}),beforeMount(){this.setupContainer()},mounted(){this.showNotice(),o.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const e=document.body;e.appendChild(this.parentTop),e.appendChild(this.parentBottom)},shouldQueue(){return!!this.queue&&(this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0)},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout((()=>{var e;this.onDismiss.apply(null,arguments),this.$destroy(),void 0!==(e=this.$el).remove?e.remove():e.parentNode.removeChild(e)}),150)},showNotice(){this.shouldQueue()?this.queueTimer=setTimeout(this.showNotice,250):(this.correctParent.insertAdjacentElement("afterbegin",this.$el),this.isActive=!0,this.duration&&(this.timer=new r(this.dismiss,this.duration)))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(e){this.pauseOnHover&&this.timer&&(e?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case n.TOP:case n.TOP_RIGHT:case n.TOP_LEFT:return this.parentTop;case n.BOTTOM:case n.BOTTOM_RIGHT:case n.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case n.TOP:case n.TOP_RIGHT:case n.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case n.BOTTOM:case n.BOTTOM_RIGHT:case n.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeDestroy(){o.off("toast-clear",this.dismiss)}};var component=function(e,t,r,n,o,l,c,d){var m,v="function"==typeof e?e.options:e;if(t&&(v.render=t,v.staticRenderFns=r,v._compiled=!0),n&&(v.functional=!0),l&&(v._scopeId="data-v-"+l),c?(m=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)},v._ssrRegister=m):o&&(m=d?function(){o.call(this,(v.functional?this.parent:this).$root.$options.shadowRoot)}:o),m)if(v.functional){v._injectStyles=m;var f=v.render;v.render=function(e,t){return m.call(t),f(e,t)}}else{var h=v.beforeCreate;v.beforeCreate=h?[].concat(h,m):[m]}return{exports:e,options:v}}(c,(function(){var e=this,t=e._self._c;return t("transition",{attrs:{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"v-toast__item",class:[`v-toast__item--${e.type}`,`v-toast__item--${e.position}`],attrs:{role:"alert"},on:{mouseover:function(t){return e.toggleTimer(!0)},mouseleave:function(t){return e.toggleTimer(!1)},click:e.whenClicked}},[t("div",{staticClass:"v-toast__icon"}),e._v(" "),t("p",{staticClass:"v-toast__text",domProps:{innerHTML:e._s(e.message)}})])])}),[],!1,null,null,null);const d=component.exports,m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{open(r){let n;"string"==typeof r&&(n=r);const o={message:n},l=Object.assign({},o,t,r);return new(e.extend(d))({el:document.createElement("div"),propsData:l})},clear(){o.emit("toast-clear")},success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"success"},t))},error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"error"},t))},info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"info"},t))},warning(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"warning"},t))},default(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"default"},t))}}};d.install=function(e){let t=m(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});e.$toast=t,e.prototype.$toast=t};const v=d;return t=t.default})(),e.exports=n()},359:function(e,t,r){"use strict";r.r(t);r(34);var n=r(24),o=r(6),l=(r(35),r(42),r(159),r(57),r(58),r(43),r(16),r(36),r(41),r(38)),c=r(0),d=r(345),m=r.n(d),v=r(113);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}c.a.use(m.a,{duration:3500});var _=c.a.extend({name:"UserEditorComponent",components:{ValidationProvider:l.b,ValidationObserver:l.a},data:function(){return{isFormLoaded:!1,isSaving:!1,form:{name:"",email:"",password:"",age:void 0},userId:this.$route.params.id,USER_LIST_PATH:"/users"}},head:function(){return{title:"Felhasználó szerkesztő"}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("0"!==e.userId){t.next=4;break}e.isFormLoaded=!0,t.next=6;break;case 4:return t.next=6,e.fetchUser();case 6:case"end":return t.stop()}}),t)})))()},methods:{fetchUser:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.getUserById(e.userId);case 3:r=t.sent,e.form={name:r.name||"",email:r.email||"",password:"",age:void 0!==r.age?Number(r.age):void 0},e.isFormLoaded=!0,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.$toast.error("Hiba a felhasználó adatainak lekérésekor!");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onSubmit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("0"!==e.userId){t.next=15;break}return t.prev=1,e.isSaving=!0,t.next=5,v.a.createUser(h(h({},e.form),{},{age:Number(e.form.age)}));case 5:e.$toast.success("Sikeresen létrejött a felhasználó!"),e.goBack(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),e.isSaving=!1,e.$toast.error("Hiba a felhasználó létrehozásakor!");case 13:t.next=27;break;case 15:return t.prev=15,e.isSaving=!0,t.next=19,v.a.updateUser(e.userId||"",e.form);case 19:e.$toast.success("Sikeresen frissült a felhasználó!"),e.goBack(),t.next=27;break;case 23:t.prev=23,t.t1=t.catch(15),e.isSaving=!1,e.$toast.error("Hiba a felhasználó frissítésekor!");case 27:case"end":return t.stop()}}),t,null,[[1,9],[15,23]])})))()},goBack:function(){this.$router.push(this.USER_LIST_PATH)}}}),T=r(40),component=Object(T.a)(_,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"container"},[t("h1",{staticClass:"text-center my-5"},[e._v(e._s("0"===e.userId?"Felhasználó hozzáadása":"Felhasználó szerkesztése"))]),e._v(" "),e.isFormLoaded?t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-8 offset-lg-2"},[t("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(r){var n=r.handleSubmit,o=r.invalid;return[t("form",{on:{submit:function(t){return t.preventDefault(),n(e.onSubmit)}}},[t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Név *")]),e._v(" "),t("ValidationProvider",{attrs:{name:"name",rules:"required|min:3|max:50"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":n[0]},attrs:{id:"name",type:"text",name:"name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),t("span",{staticClass:"invalid-feedback"},[e._v(e._s(n[0]))])])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"email"}},[e._v("Email *")]),e._v(" "),t("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":n[0]},attrs:{id:"email",type:"email",name:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),t("span",{staticClass:"invalid-feedback"},[e._v(e._s(n[0]))])])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"password"}},[e._v("Jelszó *")]),e._v(" "),t("ValidationProvider",{attrs:{name:"password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":n[0]},attrs:{id:"password",type:"password",name:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e._v(" "),t("span",{staticClass:"invalid-feedback"},[e._v(e._s(n[0]))])])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label",attrs:{for:"age"}},[e._v("Kor *")]),e._v(" "),t("ValidationProvider",{attrs:{name:"age",rules:"required|min_value:1|max_value:120"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.errors;return[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.age,expression:"form.age"}],staticClass:"form-control",class:{"is-invalid":n[0]},attrs:{id:"age",type:"number",name:"age"},domProps:{value:e.form.age},on:{input:function(t){t.target.composing||e.$set(e.form,"age",t.target.value)}}}),e._v(" "),t("span",{staticClass:"invalid-feedback"},[e._v(e._s(n[0]))])])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"d-flex justify-content-center mt-3"},[t("div",{staticClass:"d-flex gap-3"},[e.isSaving?t("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""}},[t("span",{staticClass:"spinner-border spinner-border-sm",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",{attrs:{role:"status"}},[e._v(" Mentés...")])]):t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:o||e.isSaving}},[e._v("Mentés")]),e._v(" "),t("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:e.isSaving},on:{click:e.goBack}},[e._v("Vissza")])])])])]}}])})],1)]):t("div",{staticClass:"text-center"},[e._m(0)])])}),[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"spinner-border",attrs:{role:"status"}},[t("span",{staticClass:"visually-hidden"},[e._v("Loading...")])])}],!1,null,null,null);t.default=component.exports}}]);